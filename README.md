# yandex-archive-helpers
–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–æ–º –Ø–Ω–¥–µ–∫—Å –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ö–∏–≤–∞–º

1. server.py ‚Äî HTTP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö.
     - –§—É–Ω–∫—Ü–∏—è: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å—ã –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ (—á–µ—Ä–µ–∑ Nginx), –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç JSON –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ —Ñ–∞–π–ª received_data.json.
     - –ü–æ—Ä—Ç: 8080 (–ª–æ–∫–∞–ª—å–Ω–æ).
     - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç data=..., –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç + –∫–∞–∫ –ø—Ä–æ–±–µ–ª—ã.
2. watcher.py ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Notion.
     - –§—É–Ω–∫—Ü–∏—è: –°–ª–µ–¥–∏—Ç –∑–∞ –ø–æ—è–≤–ª–µ–Ω–∏–µ–º/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ñ–∞–π–ª–∞ received_data.json.
     - –õ–æ–≥–∏–∫–∞:
           - –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.
           - –§–∏–ª—å—Ç—Ä—É–µ—Ç (—Å–µ–π—á–∞—Å —Ñ–∏–ª—å—Ç—Ä—ã –æ—Ç–∫–ª—é—á–µ–Ω—ã/–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã).
           - –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ Notion: –î–µ–ª–æ (–±–∞–∑–∞) ‚Üí –°—Ç—Ä–∞–Ω–∏—Ü–∞ (–≤–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞).
           - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã (—á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –¥–≤–∞–∂–¥—ã).
     - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: notion_helper.py.
3. notion_helper.py ‚Äî –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Notion API.
     - –§—É–Ω–∫—Ü–∏—è: –°–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ create_page, get_existing_cases, get_existing_pages.
     - –ù–∞—Å—Ç—Ä–æ–π–∫–∏: –í–Ω—É—Ç—Ä–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω NOTION_TOKEN –∏ ID –∫–æ—Ä–Ω–µ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (ROOT_PAGE_ID).
4. received_data.json ‚Äî –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª.
     - –§—É–Ω–∫—Ü–∏—è: –ë—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –º–µ–∂–¥—É server.py –∏ watcher.py. 
5. parse-page.js
    - –§—É–Ω–∫—Ü–∏—è: –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–µ–ª –Ω–∞ –≤–∞—à –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.
    - –ó–∞–ø—É—Å–∫: –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø–∏—Å–∫–∞ –∑–∞–ø–∏—Å–µ–π (—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞).

```"–ê–î–†–ï–° –í–ê–®–ï–ì–û –û–ë–†–ê–ë–û–¢–ß–ò–ö–ê"``` –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ url, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

 ## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ:

 1. –ë—Ä–∞—É–∑–µ—Ä (–≤–∞—à JS-—Å–∫—Ä–∏–ø—Ç parse-page.js) ‚Üí POST https://–ê–î–†–ï–° –í–ê–®–ï–ì–û –û–ë–†–ê–ë–û–¢–ß–ò–ö–ê
 2. Nginx ‚Üí –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞ 127.0.0.1:8080
 3. server.py ‚Üí –ü—Ä–∏–Ω–∏–º–∞–µ—Ç, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ received_data.json.
 4. watcher.py ‚Üí –í–∏–¥–∏—Ç —Ñ–∞–π–ª, —á–∏—Ç–∞–µ—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Notion.


